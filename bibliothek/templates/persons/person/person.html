{% extends 'base.html' %}
{% load bootstrap i18n %}


{% block content %}
<h1 class="page-header">{{ person.first_name }} {{ person.last_name }}</h1>
<dl class="dl-horizontal">
    <dt>{% trans 'Links' %}</dt>
    <dd>
        <ul class="list-unstyled">
            {% for link in paper.links.all %}
                <li><a href="{{ link }}">{{ link }}</a></li>
            {% endfor %}
        </ul>
    </dd>
</dl>
<h2 class="page-header">{% trans 'Papers' %}</h2>
<div class="table-responsive">
    <table class="table table-striped table-hover">
        <thead>
            {% sortable_th 'Title' o 'o' 'title' %}
            <th>{% trans 'Authors' %}</th>
            {% sortable_th 'Journal' o 'o' 'journal' %}
            {% sortable_th 'Volume' o 'o' 'volume' %}
            {% sortable_th 'Acquired' o 'o' 'acquisitions' %}
            {% sortable_th 'Read' o 'o' 'reads' %}
        </thead>
        <tbody>
            {% for paper in papers %}
                <tr>
                    <th><a href="{% url 'paper' paper.slug %}">{{ paper.title }}</a></th>
                    <td>{% for author in paper.authors.all %}<a href="{% url 'person' author.slug %}">{{ author }}</a>{% if not forloop.last %}, {% endif %}{% endfor %}</td>
                    <td><a href="{% url 'journal' paper.journal.slug %}">{{ paper.journal.name }}</a></td>
                    <td>{{ paper.volume }}</td>
                    <td><span class="glyphicon glyphicon-{% if paper.acquisitions.exists %}ok{% else %}remove{% endif %}"></span></td>
                    <td><span class="glyphicon glyphicon-{% if paper.reads.exists %}ok{% else %}remove{% endif %}"></span></td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
